import{S as V,i as W,s as $,r as I,e as v,k as w,b as p,g as B,p as m,F as U,x as H,Q as X,n as Y,h as C,w as R,I as ie,l as L,q as Q,H as Z,X as se,o as z,Y as ae,Z as oe,_ as fe,$ as re,t as ce,a as ue}from"./index-66FfSrFy.js";function A(l,e,t){const i=l.slice();return i[22]=e[t],i[23]=e,i[24]=t,i}function D(l,e,t){const i=l.slice();return i[25]=e[t],i[26]=e,i[27]=t,i}function E(l){let e,t,i,a;function s(){l[16].call(e,l[23],l[24])}return{c(){e=v("input"),p(e,"class","filter-switcher svelte-1nl9oys"),p(e,"type","checkbox"),p(e,"switch",""),p(e,"data-active","∩"),p(e,"data-inactive","∪"),p(e,"title",t=l[22].is_cap?"聯集 [交集]":"[聯集] 交集")},m(u,n){B(u,e,n),e.checked=l[22].is_cap,i||(a=H(e,"change",s),i=!0)},p(u,n){l=u,n&2&&t!==(t=l[22].is_cap?"聯集 [交集]":"[聯集] 交集")&&p(e,"title",t),n&2&&(e.checked=l[22].is_cap)},d(u){u&&C(e),i=!1,a()}}}function G(l){let e,t,i;return{c(){e=v("img"),z(e.src,t=l[25].icon)||p(e,"src",t),p(e,"alt",i=l[25].key),p(e,"width","16"),p(e,"height","16"),p(e,"class","svelte-1nl9oys")},m(a,s){B(a,e,s)},p(a,s){s&2&&!z(e.src,t=a[25].icon)&&p(e,"src",t),s&2&&i!==(i=a[25].key)&&p(e,"alt",i)},d(a){a&&C(e)}}}function J(l){let e,t,i,a=l[25].key+"",s,u,n,f,o;function r(){l[17].call(t,l[26],l[27])}let _=l[25].icon&&G(l);return{c(){e=v("label"),t=v("input"),i=w(),s=L(a),u=w(),_&&_.c(),p(t,"type","checkbox"),p(e,"class","filer-option-label svelte-1nl9oys"),e.hidden=n=!l[25].key},m(c,d){B(c,e,d),m(e,t),t.checked=l[25].checked,m(e,i),m(e,s),m(e,u),_&&_.m(e,null),f||(o=H(t,"change",r),f=!0)},p(c,d){l=c,d&2&&(t.checked=l[25].checked),d&2&&a!==(a=l[25].key+"")&&Q(s,a),l[25].icon?_?_.p(l,d):(_=G(l),_.c(),_.m(e,null)):_&&(_.d(1),_=null),d&2&&n!==(n=!l[25].key)&&(e.hidden=n)},d(c){c&&C(e),_&&_.d(),f=!1,o()}}}function K(l){let e,t,i=l[22].title+"",a,s,u,n=l[22].multi&&E(l),f=I(l[22].options),o=[];for(let r=0;r<f.length;r+=1)o[r]=J(D(l,f,r));return{c(){e=v("div"),t=v("div"),a=L(i),s=L(`:

				`),n&&n.c(),u=w();for(let r=0;r<o.length;r+=1)o[r].c();p(t,"class","filter-title svelte-1nl9oys"),p(e,"class","filter svelte-1nl9oys")},m(r,_){B(r,e,_),m(e,t),m(t,a),m(t,s),n&&n.m(t,null),m(e,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null)},p(r,_){if(_&2&&i!==(i=r[22].title+"")&&Q(a,i),r[22].multi?n?n.p(r,_):(n=E(r),n.c(),n.m(t,null)):n&&(n.d(1),n=null),_&2){f=I(r[22].options);let c;for(c=0;c<f.length;c+=1){const d=D(r,f,c);o[c]?o[c].p(d,_):(o[c]=J(d),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=f.length}},d(r){r&&C(e),n&&n.d(),R(o,r)}}}function _e(l){let e,t,i,a,s,u,n,f,o,r,_,c,d,y=I(l[1]),b=[];for(let g=0;g<y.length;g+=1)b[g]=K(A(l,y,g));return{c(){e=v("form"),t=v("div"),i=v("input"),a=w(),s=v("input"),u=w();for(let g=0;g<b.length;g+=1)b[g].c();n=w(),f=v("div"),o=new Z(!1),r=w(),_=new Z(!1),p(i,"type","search"),p(i,"placeholder",l[0]),p(s,"type","reset"),p(t,"class","filter input-box svelte-1nl9oys"),o.a=r,_.a=null,p(e,"class","filters")},m(g,q){B(g,e,q),m(e,t),m(t,i),U(i,l[2]),m(t,a),m(t,s),m(e,u);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(e,null);m(e,n),m(e,f),o.m(l[4],f),m(f,r),_.m(l[3],f),c||(d=[H(i,"input",l[15]),H(i,"compositionstart",l[6]),H(i,"compositionend",l[7]),H(e,"reset",X(l[5])),H(e,"submit",X(l[14]))],c=!0)},p(g,[q]){if(q&1&&p(i,"placeholder",g[0]),q&4&&i.value!==g[2]&&U(i,g[2]),q&2){y=I(g[1]);let k;for(k=0;k<y.length;k+=1){const P=A(g,y,k);b[k]?b[k].p(P,q):(b[k]=K(P),b[k].c(),b[k].m(e,n))}for(;k<b.length;k+=1)b[k].d(1);b.length=y.length}q&16&&o.p(g[4]),q&8&&_.p(g[3])},i:Y,o:Y,d(g){g&&C(e),R(b,g),c=!1,ie(d)}}}function he(l,e,t){let i,a,{filter_cates:s=[]}=e,{item_class:u=".item"}=e,{placeholder:n="過濾名稱"}=e,{gen_selector:f=(h,F,j)=>`[data-${h}${j?"*":""}="${F}"]`}=e,{search_cb:o=null}=e,r=y(),_="",c=new URLSearchParams(location.search).get("query")||"",d=!1;function y(){return s.map(h=>({prop:h.prop,title:h.title,multi:h.multi,options:h.values.map((F,j)=>{var T;return{key:F,checked:!1,icon:(T=h.icons)==null?void 0:T[j]}})}))}function b(h){return`${u}:not(${h})`}function g(h){let F=h.map(j=>{let T=j.options.map(S=>S.checked?{prop:j.prop,value:S.key}:null).filter(Boolean);return T.length?j.multi&&j.is_cap?T.map(S=>b(f(S.prop,S.value,j.multi))):b(T.map(S=>f(S.prop,S.value,j.multi)).join()):""}).flat().filter(Boolean).join();return F?`${F} { display: none; }`:""}function q(h){return h?`${u}:not([data-search*="${h}"]) { display:none; }`:""}function k(){t(1,r=y()),t(2,c="")}function P(){t(13,d=!0)}function x(){t(13,d=!1)}function ee(h){se.call(this,l,h)}function le(){c=this.value,t(2,c)}function te(h,F){h[F].is_cap=this.checked,t(1,r)}function ne(h,F){h[F].checked=this.checked,t(1,r)}return l.$$set=h=>{"filter_cates"in h&&t(8,s=h.filter_cates),"item_class"in h&&t(9,u=h.item_class),"placeholder"in h&&t(0,n=h.placeholder),"gen_selector"in h&&t(10,f=h.gen_selector),"search_cb"in h&&t(11,o=h.search_cb)},l.$$.update=()=>{l.$$.dirty&2&&t(4,i=`<style>${g(r)}</style>`),l.$$.dirty&10244&&(d||(t(12,_=c),o&&o(c))),l.$$.dirty&4096&&t(3,a=_?`<style>${q(_)}</style>`:"")},[n,r,c,a,i,k,P,x,s,u,f,o,_,d,ee,le,te,ne]}class ke extends V{constructor(e){super(),W(this,e,he,_e,$,{filter_cates:8,item_class:9,placeholder:0,gen_selector:10,search_cb:11})}}const pe=`2024-03-08T15:57:47+08
`;function M(l,e,t){const i=l.slice();return i[3]=e[t],i}function N(l){let e,t,i=I(l[0]),a=[];for(let s=0;s<i.length;s+=1)a[s]=O(M(l,i,s));return{c(){e=v("ul"),t=L(`資料來源：
			`);for(let s=0;s<a.length;s+=1)a[s].c()},m(s,u){B(s,e,u),m(e,t);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(e,null)},p(s,u){if(u&1){i=I(s[0]);let n;for(n=0;n<i.length;n+=1){const f=M(s,i,n);a[n]?a[n].p(f,u):(a[n]=O(f),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=i.length}},d(s){s&&C(e),R(a,s)}}}function O(l){let e,t=l[3].title+"",i,a,s,u,n,f=l[3].link+"",o,r,_,c;return{c(){e=v("li"),i=L(t),a=w(),s=v("br"),u=w(),n=v("a"),o=L(f),c=w(),p(n,"href",r=l[3].link),p(n,"rel","noopener"),p(n,"target",_=l[3].target||"_blank")},m(d,y){B(d,e,y),m(e,i),m(e,a),m(e,s),m(e,u),m(e,n),m(n,o),m(e,c)},p(d,y){y&1&&t!==(t=d[3].title+"")&&Q(i,t),y&1&&f!==(f=d[3].link+"")&&Q(o,f),y&1&&r!==(r=d[3].link)&&p(n,"href",r),y&1&&_!==(_=d[3].target||"_blank")&&p(n,"target",_)},d(d){d&&C(e)}}}function me(l){let e,t,i,a,s;const u=l[2].default,n=ae(u,l,l[1],null);let f=l[0]&&N(l);return{c(){e=v("footer"),t=v("time"),t.textContent=`${pe}`,i=w(),n&&n.c(),a=w(),f&&f.c(),p(t,"class","update svelte-1ryjl73"),p(e,"class","footer")},m(o,r){B(o,e,r),m(e,t),m(e,i),n&&n.m(e,null),m(e,a),f&&f.m(e,null),s=!0},p(o,[r]){n&&n.p&&(!s||r&2)&&oe(n,u,o,o[1],s?re(u,o[1],r,null):fe(o[1]),null),o[0]?f?f.p(o,r):(f=N(o),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(o){s||(ce(n,o),s=!0)},o(o){ue(n,o),s=!1},d(o){o&&C(e),n&&n.d(o),f&&f.d()}}}function de(l,e,t){let{$$slots:i={},$$scope:a}=e,{refs:s=[]}=e;return l.$$set=u=>{"refs"in u&&t(0,s=u.refs),"$$scope"in u&&t(1,a=u.$$scope)},[s,a,i]}class be extends V{constructor(e){super(),W(this,e,de,me,$,{refs:0})}}export{ke as F,be as a};
