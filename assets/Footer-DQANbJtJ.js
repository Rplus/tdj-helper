import{S as V,i as W,s as $,r as D,e as v,k as w,b as h,g as B,p,F as U,x as H,Q as se,n as X,h as C,w as Q,I as ae,l as I,q as P,H as Y,o as Z,X as fe,Y as oe,Z as re,_ as ue,t as ce,a as _e}from"./index-ljhue550.js";function z(t,e,l){const i=t.slice();return i[23]=e[l],i[24]=e,i[25]=l,i}function A(t,e,l){const i=t.slice();return i[26]=e[l],i[27]=e,i[28]=l,i}function E(t){let e,l,i,a;function s(){t[16].call(e,t[24],t[25])}return{c(){e=v("input"),h(e,"class","filter-switcher svelte-1nl9oys"),h(e,"type","checkbox"),h(e,"switch",""),h(e,"data-active","∩"),h(e,"data-inactive","∪"),h(e,"title",l=t[23].is_cap?"聯集 [交集]":"[聯集] 交集")},m(c,n){B(c,e,n),e.checked=t[23].is_cap,i||(a=H(e,"change",s),i=!0)},p(c,n){t=c,n&2&&l!==(l=t[23].is_cap?"聯集 [交集]":"[聯集] 交集")&&h(e,"title",l),n&2&&(e.checked=t[23].is_cap)},d(c){c&&C(e),i=!1,a()}}}function G(t){let e,l,i;return{c(){e=v("img"),Z(e.src,l=t[26].icon)||h(e,"src",l),h(e,"alt",i=t[26].key),h(e,"width","16"),h(e,"height","16"),h(e,"class","svelte-1nl9oys")},m(a,s){B(a,e,s)},p(a,s){s&2&&!Z(e.src,l=a[26].icon)&&h(e,"src",l),s&2&&i!==(i=a[26].key)&&h(e,"alt",i)},d(a){a&&C(e)}}}function J(t){let e,l,i,a=t[26].key+"",s,c,n,o,f;function r(){t[17].call(l,t[27],t[28])}let _=t[26].icon&&G(t);return{c(){e=v("label"),l=v("input"),i=w(),s=I(a),c=w(),_&&_.c(),h(l,"type","checkbox"),h(e,"class","filer-option-label svelte-1nl9oys"),e.hidden=n=!t[26].key},m(u,d){B(u,e,d),p(e,l),l.checked=t[26].checked,p(e,i),p(e,s),p(e,c),_&&_.m(e,null),o||(f=H(l,"change",r),o=!0)},p(u,d){t=u,d&2&&(l.checked=t[26].checked),d&2&&a!==(a=t[26].key+"")&&P(s,a),t[26].icon?_?_.p(t,d):(_=G(t),_.c(),_.m(e,null)):_&&(_.d(1),_=null),d&2&&n!==(n=!t[26].key)&&(e.hidden=n)},d(u){u&&C(e),_&&_.d(),o=!1,f()}}}function K(t){let e,l,i=t[23].title+"",a,s,c,n=t[23].multi&&E(t),o=D(t[23].options),f=[];for(let r=0;r<o.length;r+=1)f[r]=J(A(t,o,r));return{c(){e=v("div"),l=v("div"),a=I(i),s=I(`:

				`),n&&n.c(),c=w();for(let r=0;r<f.length;r+=1)f[r].c();h(l,"class","filter-title svelte-1nl9oys"),h(e,"class","filter svelte-1nl9oys")},m(r,_){B(r,e,_),p(e,l),p(l,a),p(l,s),n&&n.m(l,null),p(e,c);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(e,null)},p(r,_){if(_&2&&i!==(i=r[23].title+"")&&P(a,i),r[23].multi?n?n.p(r,_):(n=E(r),n.c(),n.m(l,null)):n&&(n.d(1),n=null),_&2){o=D(r[23].options);let u;for(u=0;u<o.length;u+=1){const d=A(r,o,u);f[u]?f[u].p(d,_):(f[u]=J(d),f[u].c(),f[u].m(e,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=o.length}},d(r){r&&C(e),n&&n.d(),Q(f,r)}}}function he(t){let e,l,i,a,s,c,n,o,f,r,_,u,d,y=D(t[1]),b=[];for(let g=0;g<y.length;g+=1)b[g]=K(z(t,y,g));return{c(){e=v("form"),l=v("div"),i=v("input"),a=w(),s=v("input"),c=w();for(let g=0;g<b.length;g+=1)b[g].c();n=w(),o=v("div"),f=new Y(!1),r=w(),_=new Y(!1),h(i,"type","search"),h(i,"name",x),h(i,"placeholder",t[0]),h(s,"type","reset"),h(l,"class","filter input-box svelte-1nl9oys"),f.a=r,_.a=null,h(e,"class","filters")},m(g,q){B(g,e,q),p(e,l),p(l,i),U(i,t[2]),p(l,a),p(l,s),p(e,c);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(e,null);p(e,n),p(e,o),f.m(t[4],o),p(o,r),_.m(t[3],o),u||(d=[H(i,"input",t[15]),H(i,"compositionstart",t[6]),H(i,"compositionend",t[7]),H(e,"reset",se(t[5])),H(e,"submit",t[8])],u=!0)},p(g,[q]){if(q&1&&h(i,"placeholder",g[0]),q&4&&i.value!==g[2]&&U(i,g[2]),q&2){y=D(g[1]);let k;for(k=0;k<y.length;k+=1){const L=z(g,y,k);b[k]?b[k].p(L,q):(b[k]=K(L),b[k].c(),b[k].m(e,n))}for(;k<b.length;k+=1)b[k].d(1);b.length=y.length}q&16&&f.p(g[4]),q&8&&_.p(g[3])},i:X,o:X,d(g){g&&C(e),Q(b,g),u=!1,ae(d)}}}const x="query";function me(t,e,l){let i,a,{filter_cates:s=[]}=e,{item_class:c=".item"}=e,{placeholder:n="過濾名稱"}=e,{gen_selector:o=(m,F,j)=>`[data-${m}${j?"*":""}="${F}"]`}=e,{search_cb:f=null}=e,r=y(),_="",u=new URLSearchParams(location.search).get(x)||"",d=!1;function y(){return s.map(m=>({prop:m.prop,title:m.title,multi:m.multi,options:m.values.map((F,j)=>{var T;return{key:F,checked:!1,icon:(T=m.icons)==null?void 0:T[j]}})}))}function b(m){return`${c}:not(${m})`}function g(m){let F=m.map(j=>{let T=j.options.map(S=>S.checked?{prop:j.prop,value:S.key}:null).filter(Boolean);return T.length?j.multi&&j.is_cap?T.map(S=>b(o(S.prop,S.value,j.multi))):b(T.map(S=>o(S.prop,S.value,j.multi)).join()):""}).flat().filter(Boolean).join();return F?`${F} { display: none; }`:""}function q(m){return m?`${c}:not([data-search*="${m}"]) { display:none; }`:""}function k(){l(1,r=y()),l(2,u="")}function L(){l(14,d=!0)}function ee(){l(14,d=!1)}let R=!1;function te(m){if(!R){m.preventDefault(),R=!0;return}}function le(){u=this.value,l(2,u)}function ne(m,F){m[F].is_cap=this.checked,l(1,r)}function ie(m,F){m[F].checked=this.checked,l(1,r)}return t.$$set=m=>{"filter_cates"in m&&l(9,s=m.filter_cates),"item_class"in m&&l(10,c=m.item_class),"placeholder"in m&&l(0,n=m.placeholder),"gen_selector"in m&&l(11,o=m.gen_selector),"search_cb"in m&&l(12,f=m.search_cb)},t.$$.update=()=>{t.$$.dirty&2&&l(4,i=`<style>${g(r)}</style>`),t.$$.dirty&20484&&(d||(l(13,_=u),f&&f(u))),t.$$.dirty&8192&&l(3,a=_?`<style>${q(_)}</style>`:"")},[n,r,u,a,i,k,L,ee,te,s,c,o,f,_,d,le,ne,ie]}class be extends V{constructor(e){super(),W(this,e,me,he,$,{filter_cates:9,item_class:10,placeholder:0,gen_selector:11,search_cb:12})}}const pe=`2024-03-08T15:57:47+08
`;function M(t,e,l){const i=t.slice();return i[3]=e[l],i}function N(t){let e,l,i=D(t[0]),a=[];for(let s=0;s<i.length;s+=1)a[s]=O(M(t,i,s));return{c(){e=v("ul"),l=I(`資料來源：
			`);for(let s=0;s<a.length;s+=1)a[s].c()},m(s,c){B(s,e,c),p(e,l);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(e,null)},p(s,c){if(c&1){i=D(s[0]);let n;for(n=0;n<i.length;n+=1){const o=M(s,i,n);a[n]?a[n].p(o,c):(a[n]=O(o),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=i.length}},d(s){s&&C(e),Q(a,s)}}}function O(t){let e,l=t[3].title+"",i,a,s,c,n,o=t[3].link+"",f,r,_,u;return{c(){e=v("li"),i=I(l),a=w(),s=v("br"),c=w(),n=v("a"),f=I(o),u=w(),h(n,"href",r=t[3].link),h(n,"rel","noopener"),h(n,"target",_=t[3].target||"_blank")},m(d,y){B(d,e,y),p(e,i),p(e,a),p(e,s),p(e,c),p(e,n),p(n,f),p(e,u)},p(d,y){y&1&&l!==(l=d[3].title+"")&&P(i,l),y&1&&o!==(o=d[3].link+"")&&P(f,o),y&1&&r!==(r=d[3].link)&&h(n,"href",r),y&1&&_!==(_=d[3].target||"_blank")&&h(n,"target",_)},d(d){d&&C(e)}}}function de(t){let e,l,i,a,s;const c=t[2].default,n=fe(c,t,t[1],null);let o=t[0]&&N(t);return{c(){e=v("footer"),l=v("time"),l.textContent=`${pe}`,i=w(),n&&n.c(),a=w(),o&&o.c(),h(l,"class","update svelte-1ryjl73"),h(e,"class","footer")},m(f,r){B(f,e,r),p(e,l),p(e,i),n&&n.m(e,null),p(e,a),o&&o.m(e,null),s=!0},p(f,[r]){n&&n.p&&(!s||r&2)&&oe(n,c,f,f[1],s?ue(c,f[1],r,null):re(f[1]),null),f[0]?o?o.p(f,r):(o=N(f),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(f){s||(ce(n,f),s=!0)},o(f){_e(n,f),s=!1},d(f){f&&C(e),n&&n.d(f),o&&o.d()}}}function ge(t,e,l){let{$$slots:i={},$$scope:a}=e,{refs:s=[]}=e;return t.$$set=c=>{"refs"in c&&l(0,s=c.refs),"$$scope"in c&&l(1,a=c.$$scope)},[s,a,i]}class ve extends V{constructor(e){super(),W(this,e,ge,de,$,{refs:0})}}export{be as F,ve as a};
