// import { browser } from '$app/environment';

export const raw_data = [
	{
		name: '魔羊掛角',
		member: `靈鼩 —— — — 寧采臣
— 相桓子 —— 劍聖
— —— 李盈鳳 ——`,
	},
	{
		name: '魔羊掛角',
		member: `劍平 —— — — 燕明蓉
— 鮮于超 — 封寒月
— —— 紫楓 ——`,
	},
	{
		name: '魔羊掛角',
		member: `殷劍平 —— — — 封寒月
— 夏侯儀 —— 璇璣 —
— ——— 葛雲衣 ——`,
	},
	{
		name: '魔羊掛角',
		member: `雲衣宮主 —— — — 司徒纓
— 靈鼩 ——— 諸葛艾
— —— 古倫德 ——`,
	},
	{
		name: '魔羊掛角',
		member: `封寒月 —— — — 葛雲衣
— 璇璣 —— 曹沁
— —— 夏侯儀 ——`,
	},
	{
		name: '魔羊掛角',
		member: `奚歌 —— — — 赤練
— 劍邪 —— 林月如
— —— 曹沁 ——`,
	},
	{
		name: '舊域迷陣',
		member: `召祐 鮮于超 —
——— ——— 鄲陰
黎幽 —— 玄羽`,
	},
	{
		name: '舊域迷陣',
		member: `任斷離 玄羽 ——
———— ———— 九陰
上官遠 —— 高皇君`,
	},
	{
		name: '舊域迷陣',
		member: `靈鼩 奚歌 ——
——— ——— 曹沁
赤練 —— 林月如`,
	},
	{
		name: '舊域迷陣',
		member: `冰璃 陰歙 —
———— ———— 陽寰
夏侯儀 —— 霍雍`,
	},
	{
		name: '舊域迷陣',
		member: `古倫德 阿良 ——
———— ———— 璇璣
燕明蓉 —— 葛雲衣`,
	},
	{
		name: '險境勘探',
		member: `殷劍平 冰璃 夏侯儀 依依 葛雲衣`,
	},
	{
		name: '險境勘探',
		member: `太師 封寒月 夏侯儀 銀瑪 冰璃`,
	},
	{
		name: '險境勘探',
		member: `應奉仁 劍邪 殷劍平 高皇君 殷無邪`,
	},
	{
		name: '險境勘探',
		member: `于小雪 陰歙 趙靈兒 冰璃 封寒月`,
	},
	{
		name: '險境勘探',
		member: `韓千秀 春蘭 雲襄 殷劍平 舞蝶`,
	},
	{
		name: '險境勘探',
		member: `葛雲衣 冰璃 夏侯儀 璇璣 依依`,
	},
	{
		name: '險境勘探',
		member: `璇璣 夏侯儀 冰璃 依依 葛雲衣`,
	},
	{
		name: '惡魔試煉',
		member: `—— 阿良 夏侯儀
殷劍平 BOSS
—— 冰璃 璇璣`,
	},
	{
		name: '惡魔試煉',
		member: `—— 劍邪 高戚
鄲陰 BOSS
—— 方芸 韓無砂`,
	},
	{
		name: '惡魔試煉',
		member: `—— 聶小倩 雲衣宮主
雲襄 BOSS
—— 霍雍 魔夏`,
	},
	{
		name: '惡魔試煉',
		member: `—— 殷劍平 曹沁
依依 BOSS
—— 阿良 冰璃`,
	},
	{
		name: '惡魔試煉',
		member: `—— 燕赤霞 九陰
林月如 BOSS
—— 方芸 紫楓`,
	},
	{
		name: '惡魔試煉',
		member: `—— 劍邪 黑龍
奚歌 BOSS
—— 魔夏 霍雍`,
	},
	{
		name: '突擊連環',
		member: `阿良 無邪 依依 黎幽 虞兮`,
	},
	{
		name: '突擊連環',
		member: `任斷離 方芸 銀瑪 奚歌 劍聖`,
	},
	{
		name: '突擊連環',
		member: `葛雲衣 曹沁 依依 夏侯儀 韓無砂`,
	},
	{
		name: '突擊連環',
		member: `冰璃 阿良 韓無砂 夏侯儀 曹沁`,
	},
	{
		name: '突擊連環',
		member: `璇璣 阿良 劍平 夏侯儀 依依`,
	},
	{
		name: '突擊連環',
		member: `曹沁 韓無砂 葛雲衣 封寒月 阿良`,
	},
	{
		name: '江湖紛爭',
		member: `璇璣 古倫德 封鈴笙 冰璃 夏侯儀`,
	},
	{
		name: '江湖紛爭',
		member: `紫蘊 高皇君 朱繯 葛雲衣 白莞`,
	},
	{
		name: '江湖紛爭',
		member: `寧采臣 燕赤霞 韓無砂 聶小倩 朧妖`,
	},
	{
		name: '江湖紛爭',
		member: `趙靈兒 李逍遙 太師 林月如 于小雪`,
	},
	{
		name: '江湖紛爭',
		member: `諸葛艾 沒錯 虞兮 李逍遙 封鈴笙`,
	},
	{
		name: '江湖紛爭',
		member: `封鈴笙 雲衣宮主 秦惟剛 春蘭 燕明蓉`,
	},
	{
		name: '古神祈願',
		member: `—— 諸葛艾 ——
紫蘊 ——— 朱繯
葛雲衣 —— 高皇君`,
	},
	{
		name: '古神祈願',
		member: `—— 阿良 ——
冰璃 —— 璇璣
曹沁 —— 封寒月`,
	},
	{
		name: '古神祈願',
		member: `—— 黑龍 ——
九陰 —— 鮮于超
高戚 —— 上官遠`,
	},
	{
		name: '古神祈願',
		member: `—— 韓無砂 —
璇璣 —— 曹沁
劍平 —— 依依`,
	},
	{
		name: '古神祈願',
		member: `—— 鮮于超 ——
任斷離 —— 奚歌
劍邪 ——— 黎幽`,
	},
	{
		name: '古神祈願',
		member: `—— 劍聖 ——
銀瑪 —— 鄲陰
魔夏 —— 阿良`,
	},
];

export function transStr(str) {
	let chars_len = [];
	str = str.replace(/[—-]+/g, '＿');
	let cells = str.split('\n').map((line) => {
		let cell_arr = line.trim().split(/\s+/g);
		cell_arr.forEach((cell, idx) => {
			let len = get_char_width(cell);
			if (len > chars_len[idx] || !chars_len[idx]) {
				chars_len[idx] = len;
			}
		});
		return cell_arr;
	});

	let op = cells.map((line) => {
		return line
			.map((cell, index) => {
				return fillString(cell, chars_len[index]);
			})
			.join(' ');
	});

	return op.join('\n');
}

function fillString(str, len) {
	return str.replace(/[—-]+/g, '＿').padEnd(len, '＿');
}

function isFullWidthChar(char) {
	// 使用正則表達式檢查字符是否是全形字元
	return /[^\x00-\x7F]/.test(char);
}

function get_char_width(strings) {
	return strings.split('').reduce((sum, i) => {
		return sum + (isFullWidthChar(i) ? 1 : 0.5);
	}, 0);
}
