import{s as De,e as v,b,t as S,f as y,d as $,R as Y,i as N,n as ce,z as Q,A as J,B as Ne,a as M,c as L,g as O,u as ve,v as _,D as ee,E as te,G as ie,r as qe,a2 as Ie,Q as Fe}from"../chunks/scheduler.DRRiJXpm.js";import{S as Se,i as Te,c as ue,a as fe,m as _e,t as V,e as He,b as R,d as pe,g as je}from"../chunks/index.D1isTMd_.js";import{e as U}from"../chunks/each.n077PHkZ.js";import{H as Ae}from"../chunks/Header.SeUPolaK.js";import{F as Ge}from"../chunks/Footer.nbI22j8N.js";const lt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function be(n){let e=n[0].order+"",t;return{c(){t=Q(e)},l(l){t=J(l,e)},m(l,a){N(l,t,a)},p(l,a){a&1&&e!==(e=l[0].order+"")&&Ne(t,e)},d(l){l&&y(t)}}}function ze(n){let e,t=n[0].order!==void 0&&be(n);return{c(){e=v("div"),t&&t.c(),this.h()},l(l){e=b(l,"DIV",{class:!0});var a=S(e);t&&t.l(a),a.forEach(y),this.h()},h(){$(e,"class","cell flex ai-c jc-c pos-r svelte-18g97yn"),Y(e,"picked",!n[0].out),Y(e,"center",n[0].center)},m(l,a){N(l,e,a),t&&t.m(e,null)},p(l,[a]){l[0].order!==void 0?t?t.p(l,a):(t=be(l),t.c(),t.m(e,null)):t&&(t.d(1),t=null),a&1&&Y(e,"picked",!l[0].out),a&1&&Y(e,"center",l[0].center)},i:ce,o:ce,d(l){l&&y(e),t&&t.d()}}}function Be(n,e,t){let{cell:l={}}=e;return n.$$set=a=>{"cell"in a&&t(0,l=a.cell)},[l]}class Ue extends Se{constructor(e){super(),Te(this,e,Be,ze,De,{cell:0})}}const Z={types:[{type:"pick",title:"選取 ↑"},{type:"put",title:"放置 ↓"}],shapes:[{shape:"diamond",title:"菱形"},{shape:"square",title:"方形"}]};function Ve(n,e){let{type:t,shape:l}=n,a=[],o=l==="square"?we(e):e;for(let u=e;u>=-e;u--)for(let i=-e;i<=e;i++){let c=Math.abs(i)+Math.abs(u)>o;a.push({x:i,y:u,out:c})}let d=a.filter(u=>!u.out).sort(Oe(t,e)),m=~~(d.length/2),p={};return d.forEach((u,i)=>{let{x:c,y:w}=u;p[c]||(p[c]={}),p[c][w]||(p[c][w]={}),n.type==="pick"&&(i===0?i=m:c===0&&w===0&&(i=0)),p[c][w]=i}),a.forEach(u=>{var i;u.out||(u.order=(i=p[u.x])==null?void 0:i[u.y]),u.x===0&&u.y===0&&(u.center=!0)}),a}function ye(n,e=1e3){return n.x*-e-n.y}function xe(n,e,t=.01){let{x:l,y:a}=n,o=e*e-Math.sqrt(l*l+a*a)*1e4,d=(a*e*-2-l)*t;return o+d}function Oe(n,e){return n==="pick"?Re():Qe(e)}function Re(){const n=we(2);return(e,t)=>ye(t,n)-ye(e,n)}function Qe(n=2){const e=Math.min(Math.pow(10,-1-~~Math.log10((n*2+1)*(n*2+1))),.01);return(t,l)=>xe(l,n,e)-xe(t,n,e)}function we(n=2){return Math.pow(10,Math.ceil(Math.log10(Math.pow(n*2+1,3))))}function Ee(n,e,t){const l=n.slice();return l[8]=e[t],l}function $e(n,e,t){const l=n.slice();return l[8]=e[t],l}function ke(n,e,t){const l=n.slice();return l[13]=e[t],l}function Me(n){let e,t;return e=new Ue({props:{cell:n[13]}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,a){_e(e,l,a),t=!0},p(l,a){const o={};a&4&&(o.cell=l[13]),e.$set(o)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function Le(n){let e,t,l,a=n[8].title+"",o,d,m,p,u;return m=Ie(n[5][1]),{c(){e=v("label"),t=v("input"),l=M(),o=Q(a),d=M(),this.h()},l(i){e=b(i,"LABEL",{class:!0});var c=S(e);t=b(c,"INPUT",{type:!0,name:!0}),l=L(c),o=J(c,a),d=L(c),c.forEach(y),this.h()},h(){$(t,"type","radio"),$(t,"name","type"),t.__value=n[8].type,ee(t,t.__value),$(e,"class","svelte-1xxbvxn"),m.p(t)},m(i,c){N(i,e,c),_(e,t),t.checked=t.__value===n[0].type,_(e,l),_(e,o),_(e,d),p||(u=te(t,"change",n[4]),p=!0)},p(i,c){c&1&&(t.checked=t.__value===i[0].type)},d(i){i&&y(e),m.r(),p=!1,u()}}}function Ce(n){let e,t,l,a=n[8].title+"",o,d,m,p,u;return m=Ie(n[5][0]),{c(){e=v("label"),t=v("input"),l=M(),o=Q(a),d=M(),this.h()},l(i){e=b(i,"LABEL",{class:!0});var c=S(e);t=b(c,"INPUT",{type:!0,name:!0}),l=L(c),o=J(c,a),d=L(c),c.forEach(y),this.h()},h(){$(t,"type","radio"),$(t,"name","shape"),t.__value=n[8].shape,ee(t,t.__value),$(e,"class","svelte-1xxbvxn"),m.p(t)},m(i,c){N(i,e,c),_(e,t),t.checked=t.__value===n[0].shape,_(e,l),_(e,o),_(e,d),p||(u=te(t,"change",n[6]),p=!0)},p(i,c){c&1&&(t.checked=t.__value===i[0].shape)},d(i){i&&y(e),m.r(),p=!1,u()}}}function Je(n){let e,t,l="(#29+)",a;return{c(){e=Q("PS：[放置模式] 第三圈以外的落位"),t=v("sup"),t.textContent=l,a=Q("，未經驗證")},l(o){e=J(o,"PS：[放置模式] 第三圈以外的落位"),t=b(o,"SUP",{"data-svelte-h":!0}),O(t)!=="svelte-zxw32c"&&(t.textContent=l),a=J(o,"，未經驗證")},m(o,d){N(o,e,d),N(o,t,d),N(o,a,d)},p:ce,d(o){o&&(y(e),y(t),y(a))}}}function Ke(n){let e,t,l,a,o,d,m,p,u,i="行為:",c,w,I,H,he="選取形狀:",le,K,ne,T,j,de='<label for="range" class="svelte-1xxbvxn">延伸格數:</label>',se,C,ae,q,me="<span>1</span> <span>2</span> <span>3</span> <span>4</span> <span>5</span>",re,P,A,oe,ge;t=new Ae({props:{title:"範圍取放順序"}});let F=U(n[2]),h=[];for(let s=0;s<F.length;s+=1)h[s]=Me(ke(n,F,s));const Pe=s=>R(h[s],1,1,()=>{h[s]=null});let G=U(Z.types),x=[];for(let s=0;s<G.length;s+=1)x[s]=Le($e(n,G,s));let z=U(Z.shapes),E=[];for(let s=0;s<z.length;s+=1)E[s]=Ce(Ee(n,z,s));return P=new Ge({props:{refs:n[3],$$slots:{default:[Je]},$$scope:{ctx:n}}}),{c(){e=v("div"),ue(t.$$.fragment),l=M(),a=v("form"),o=v("div");for(let s=0;s<h.length;s+=1)h[s].c();d=M(),m=v("aside"),p=v("fieldset"),u=v("legend"),u.textContent=i,c=M();for(let s=0;s<x.length;s+=1)x[s].c();w=M(),I=v("fieldset"),H=v("legend"),H.textContent=he,le=M();for(let s=0;s<E.length;s+=1)E[s].c();ne=M(),T=v("fieldset"),j=v("legend"),j.innerHTML=de,se=M(),C=v("input"),ae=M(),q=v("div"),q.innerHTML=me,re=M(),ue(P.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var f=S(e);fe(t.$$.fragment,f),l=L(f),a=b(f,"FORM",{class:!0});var g=S(a);o=b(g,"DIV",{class:!0,style:!0});var r=S(o);for(let D=0;D<h.length;D+=1)h[D].l(r);r.forEach(y),d=L(g),m=b(g,"ASIDE",{class:!0});var k=S(m);p=b(k,"FIELDSET",{});var W=S(p);u=b(W,"LEGEND",{"data-svelte-h":!0}),O(u)!=="svelte-1suuzwa"&&(u.textContent=i),c=L(W);for(let D=0;D<x.length;D+=1)x[D].l(W);W.forEach(y),w=L(k),I=b(k,"FIELDSET",{});var X=S(I);H=b(X,"LEGEND",{"data-svelte-h":!0}),O(H)!=="svelte-kl7fys"&&(H.textContent=he),le=L(X);for(let D=0;D<E.length;D+=1)E[D].l(X);X.forEach(y),ne=L(k),T=b(k,"FIELDSET",{});var B=S(T);j=b(B,"LEGEND",{"data-svelte-h":!0}),O(j)!=="svelte-y9piuo"&&(j.innerHTML=de),se=L(B),C=b(B,"INPUT",{type:!0,name:!0,min:!0,max:!0,class:!0}),ae=L(B),q=b(B,"DIV",{class:!0,"data-svelte-h":!0}),O(q)!=="svelte-10mr8n2"&&(q.innerHTML=me),B.forEach(y),k.forEach(y),g.forEach(y),re=L(f),fe(P.$$.fragment,f),f.forEach(y),this.h()},h(){$(o,"class","output grid ji-c ai-c svelte-1xxbvxn"),ve(o,"--grid",n[1]*2+1),I.disabled=K=n[0].type==="put",$(C,"type","range"),$(C,"name","range"),$(C,"min","1"),$(C,"max","5"),$(C,"class","svelte-1xxbvxn"),$(q,"class","numbers flex jc-sb svelte-1xxbvxn"),$(m,"class","aside svelte-1xxbvxn"),$(a,"class","form grid svelte-1xxbvxn"),$(e,"class","workspace")},m(s,f){N(s,e,f),_e(t,e,null),_(e,l),_(e,a),_(a,o);for(let g=0;g<h.length;g+=1)h[g]&&h[g].m(o,null);_(a,d),_(a,m),_(m,p),_(p,u),_(p,c);for(let g=0;g<x.length;g+=1)x[g]&&x[g].m(p,null);_(m,w),_(m,I),_(I,H),_(I,le);for(let g=0;g<E.length;g+=1)E[g]&&E[g].m(I,null);_(m,ne),_(m,T),_(T,j),_(T,se),_(T,C),ee(C,n[1]),_(T,ae),_(T,q),_(e,re),_e(P,e,null),A=!0,oe||(ge=[te(C,"change",n[7]),te(C,"input",n[7])],oe=!0)},p(s,[f]){if(f&4){F=U(s[2]);let r;for(r=0;r<F.length;r+=1){const k=ke(s,F,r);h[r]?(h[r].p(k,f),V(h[r],1)):(h[r]=Me(k),h[r].c(),V(h[r],1),h[r].m(o,null))}for(je(),r=F.length;r<h.length;r+=1)Pe(r);He()}if((!A||f&2)&&ve(o,"--grid",s[1]*2+1),f&1){G=U(Z.types);let r;for(r=0;r<G.length;r+=1){const k=$e(s,G,r);x[r]?x[r].p(k,f):(x[r]=Le(k),x[r].c(),x[r].m(p,null))}for(;r<x.length;r+=1)x[r].d(1);x.length=G.length}if(f&1){z=U(Z.shapes);let r;for(r=0;r<z.length;r+=1){const k=Ee(s,z,r);E[r]?E[r].p(k,f):(E[r]=Ce(k),E[r].c(),E[r].m(I,null))}for(;r<E.length;r+=1)E[r].d(1);E.length=z.length}(!A||f&1&&K!==(K=s[0].type==="put"))&&(I.disabled=K),f&2&&ee(C,s[1]);const g={};f&65536&&(g.$$scope={dirty:f,ctx:s}),P.$set(g)},i(s){if(!A){V(t.$$.fragment,s);for(let f=0;f<F.length;f+=1)V(h[f]);V(P.$$.fragment,s),A=!0}},o(s){R(t.$$.fragment,s),h=h.filter(Boolean);for(let f=0;f<h.length;f+=1)R(h[f]);R(P.$$.fragment,s),A=!1},d(s){s&&y(e),pe(t),ie(h,s),ie(x,s),ie(E,s),pe(P),oe=!1,qe(ge)}}}function We(n,e,t){let l={type:"pick",shape:"diamond"},a=[],o=2;const d=[{title:"[攻略心得] 燕赤霞技能機制 | NGA",link:"https://nga.178.com/read.php?tid=31378635",target:"_blank"}],m=[[],[]];function p(){l.type=this.__value,t(0,l),t(1,o)}function u(){l.shape=this.__value,t(0,l),t(1,o)}function i(){o=Fe(this.value),t(1,o)}return n.$$.update=()=>{n.$$.dirty&3&&(l.type==="put"&&l.shape!=="square"&&(console.log("gg"),t(0,l.shape="square",l)),t(2,a=Ve(l,o)))},[l,o,a,d,p,m,u,i]}class nt extends Se{constructor(e){super(),Te(this,e,We,Ke,De,{})}}export{nt as component,lt as universal};
