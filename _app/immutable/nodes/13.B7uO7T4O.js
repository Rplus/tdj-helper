import{s as B,e as v,b,t as w,f as g,d as h,i as E,n as P,J as M,G as F,z as U,A as W,v as $,B as X,a as S,c as D,I as x,H as ee,C as te}from"../chunks/scheduler.DRRiJXpm.js";import{S as T,i as q,c as V,a as z,m as A,t as I,b as j,d as N,e as le,g as re}from"../chunks/index.D1isTMd_.js";import{e as H,u as ne,o as ae}from"../chunks/each.n077PHkZ.js";import{d as Y}from"../chunks/strategy.min.B10r1bX8.js";import{g as se}from"../chunks/fetch-data.DDzm-oUS.js";import{F as ie}from"../chunks/Filter.vjoxx4QD.js";import{H as oe}from"../chunks/Header.B2U9IxQS.js";import{F as ce}from"../chunks/Footer.nbI22j8N.js";import{l as fe,r as me}from"../chunks/u.BnA1E3nt.js";const he=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Be=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));Y.forEach(s=>{s.desc_html=s.desc.replace(/.+所有我方上陣角色物攻，物防，法攻，法防提高(\d+%)[。，](.+)?$/gm,`攻防+$1
$2`)});const C=Y;function G(s,e,r){const l=s.slice();return l[3]=e[r],l}function O(s,e,r){const l=s.slice();return l[3]=e[r],l}function ue(s){let e,r=H(s[1]),l=[];for(let t=0;t<r.length;t+=1)l[t]=R(G(s,r,t));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=M()},l(t){for(let a=0;a<l.length;a+=1)l[a].l(t);e=M()},m(t,a){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(t,a);E(t,e,a)},p(t,a){if(a&2){r=H(t[1]);let n;for(n=0;n<r.length;n+=1){const i=G(t,r,n);l[n]?l[n].p(i,a):(l[n]=R(i),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=r.length}},d(t){t&&g(e),F(l,t)}}}function _e(s){let e,r=H(s[1]),l=[];for(let t=0;t<r.length;t+=1)l[t]=J(O(s,r,t));return{c(){e=v("a");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){e=b(t,"A",{href:!0});var a=w(e);for(let n=0;n<l.length;n+=1)l[n].l(a);a.forEach(g),this.h()},h(){h(e,"href",s[0])},m(t,a){E(t,e,a);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(t,a){if(a&2){r=H(t[1]);let n;for(n=0;n<r.length;n+=1){const i=O(t,r,n);l[n]?l[n].p(i,a):(l[n]=J(i),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=r.length}a&1&&h(e,"href",t[0])},d(t){t&&g(e),F(l,t)}}}function R(s){let e,r=s[3]+"",l;return{c(){e=v("span"),l=U(r),this.h()},l(t){e=b(t,"SPAN",{class:!0});var a=w(e);l=W(a,r),a.forEach(g),this.h()},h(){h(e,"class","inline-block")},m(t,a){E(t,e,a),$(e,l)},p(t,a){a&2&&r!==(r=t[3]+"")&&X(l,r)},d(t){t&&g(e)}}}function J(s){let e,r=s[3]+"",l;return{c(){e=v("span"),l=U(r),this.h()},l(t){e=b(t,"SPAN",{class:!0});var a=w(e);l=W(a,r),a.forEach(g),this.h()},h(){h(e,"class","inline-block")},m(t,a){E(t,e,a),$(e,l)},p(t,a){a&2&&r!==(r=t[3]+"")&&X(l,r)},d(t){t&&g(e)}}}function ge(s){let e;function r(a,n){return a[0]?_e:ue}let l=r(s),t=l(s);return{c(){e=v("span"),t.c(),this.h()},l(a){e=b(a,"SPAN",{class:!0});var n=w(e);t.l(n),n.forEach(g),this.h()},h(){h(e,"class","name svelte-1enqryi")},m(a,n){E(a,e,n),t.m(e,null)},p(a,[n]){l===(l=r(a))&&t?t.p(a,n):(t.d(1),t=l(a),t&&(t.c(),t.m(e,null)))},i:P,o:P,d(a){a&&g(e),t.d()}}}function de(s,e,r){let l,{name:t=""}=e,{href:a=""}=e;return s.$$set=n=>{"name"in n&&r(2,t=n.name),"href"in n&&r(0,a=n.href)},s.$$.update=()=>{s.$$.dirty&4&&r(1,l=t.match(/(·)?.{1,2}/g))},[a,l,t]}class pe extends T{constructor(e){super(),q(this,e,de,ge,B,{name:2,href:0})}}function K(s){let e,r,l;return{c(){e=v("img"),this.h()},l(t){e=b(t,"IMG",{decoding:!0,loading:!0,src:!0,alt:!0,width:!0,height:!0,class:!0}),this.h()},h(){h(e,"decoding","async"),h(e,"loading","lazy"),x(e.src,r=s[2])||h(e,"src",r),h(e,"alt",l=s[0].name),h(e,"width","64"),h(e,"height","64"),h(e,"class","svelte-x2gtox")},m(t,a){E(t,e,a)},p(t,a){a&1&&l!==(l=t[0].name)&&h(e,"alt",l)},d(t){t&&g(e)}}}function $e(s){let e,r,l,t,a,n=s[0].img&&K(s);return t=new pe({props:{name:s[0].name,href:s[1]}}),{c(){e=v("div"),r=v("div"),n&&n.c(),l=S(),V(t.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var o=w(e);r=b(o,"DIV",{class:!0});var d=w(r);n&&n.l(d),d.forEach(g),l=D(o),z(t.$$.fragment,o),o.forEach(g),this.h()},h(){h(r,"class","avatar svelte-x2gtox"),h(e,"class","member svelte-x2gtox")},m(i,o){E(i,e,o),$(e,r),n&&n.m(r,null),$(e,l),A(t,e,null),a=!0},p(i,[o]){i[0].img?n?n.p(i,o):(n=K(i),n.c(),n.m(r,null)):n&&(n.d(1),n=null);const d={};o&1&&(d.name=i[0].name),o&2&&(d.href=i[1]),t.$set(d)},i(i){a||(I(t.$$.fragment,i),a=!0)},o(i){j(t.$$.fragment,i),a=!1},d(i){i&&g(e),n&&n.d(),N(t)}}}function ve(s,e,r){let{member:l={}}=e,t=!!l.desc,a=!t&&!!l.img,n;a&&(n=fe(`/role/${l.name}`));let o=me(`https://media.zlongame.com/media/news/cn/tdj/info/data/${t?"strategy":"heroicon"}/${l.img}.png`);return s.$$set=d=>{"member"in d&&r(0,l=d.member)},[l,n,o]}class Z extends T{constructor(e){super(),q(this,e,ve,$e,B,{member:0})}}const{Boolean:be}=he;function L(s,e,r){const l=s.slice();return l[4]=e[r],l}function ke(s,e,r){const l=s.slice();return l[7]=e[r],l}function ye(s){let e,r;return e=new Z({props:{member:s[7]}}),{c(){V(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,t){A(e,l,t),r=!0},p:P,i(l){r||(I(e.$$.fragment,l),r=!0)},o(l){j(e.$$.fragment,l),r=!1},d(l){N(e,l)}}}function Q(s,e){let r,l,t,a,n,i,o,d=e[3](e[4].desc_html,e[0])+"",y;t=new Z({props:{member:e[4]}});let k=H(e[4].members),u=[];for(let m=0;m<k.length;m+=1)u[m]=ye(ke(e,k,m));return{key:s,first:null,c(){r=v("div"),l=v("div"),V(t.$$.fragment),a=S();for(let m=0;m<u.length;m+=1)u[m].c();n=S(),i=v("div"),o=new ee(!1),this.h()},l(m){r=b(m,"DIV",{class:!0,"data-prop":!0,"data-search":!0,id:!0});var _=w(r);l=b(_,"DIV",{class:!0});var c=w(l);z(t.$$.fragment,c),a=D(c);for(let p=0;p<u.length;p+=1)u[p].l(c);c.forEach(g),n=D(_),i=b(_,"DIV",{class:!0});var f=w(i);o=te(f,!1),f.forEach(g),_.forEach(g),this.h()},h(){h(l,"class","members flex svelte-1vj042l"),o.a=null,h(i,"class","info svelte-1vj042l"),h(r,"class","row flex svelte-1vj042l"),h(r,"data-prop",e[4].members.map(Ee).filter(Boolean)),h(r,"data-search",e[4].desc_html),h(r,"id",e[4].name),this.first=r},m(m,_){E(m,r,_),$(r,l),A(t,l,null),$(l,a);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(l,null);$(r,n),$(r,i),o.m(d,i),y=!0},p(m,_){e=m,(!y||_&1)&&d!==(d=e[3](e[4].desc_html,e[0])+"")&&o.p(d)},i(m){if(!y){I(t.$$.fragment,m);for(let _=0;_<k.length;_+=1)I(u[_]);y=!0}},o(m){j(t.$$.fragment,m),u=u.filter(be);for(let _=0;_<u.length;_+=1)j(u[_]);y=!1},d(m){m&&g(r),N(t),F(u,m)}}}function we(s){let e,r,l,t,a,n,i,o=[],d=new Map,y,k,u;r=new oe({props:{title:"戰陣圖鑑"}}),t=new ie({props:{filter_cates:s[1],item_class:".row",placeholder:"過濾說明",search_cb:s[2]}});let m=H(C);const _=c=>c[4].name;for(let c=0;c<m.length;c+=1){let f=L(s,m,c),p=_(f);d.set(p,o[c]=Q(p,f))}return k=new ce({props:{time:!0,refs:se([1,1,0])}}),{c(){e=v("div"),V(r.$$.fragment),l=S(),V(t.$$.fragment),a=S(),n=v("hr"),i=S();for(let c=0;c<o.length;c+=1)o[c].c();y=S(),V(k.$$.fragment),this.h()},l(c){e=b(c,"DIV",{class:!0});var f=w(e);z(r.$$.fragment,f),l=D(f),z(t.$$.fragment,f),a=D(f),n=b(f,"HR",{class:!0}),i=D(f);for(let p=0;p<o.length;p+=1)o[p].l(f);y=D(f),z(k.$$.fragment,f),f.forEach(g),this.h()},h(){h(n,"class","svelte-1vj042l"),h(e,"class","workspace")},m(c,f){E(c,e,f),A(r,e,null),$(e,l),A(t,e,null),$(e,a),$(e,n),$(e,i);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(e,null);$(e,y),A(k,e,null),u=!0},p(c,[f]){f&9&&(m=H(C),re(),o=ne(o,f,_,1,c,m,d,e,ae,Q,y,L),le())},i(c){if(!u){I(r.$$.fragment,c),I(t.$$.fragment,c);for(let f=0;f<m.length;f+=1)I(o[f]);I(k.$$.fragment,c),u=!0}},o(c){j(r.$$.fragment,c),j(t.$$.fragment,c);for(let f=0;f<o.length;f+=1)j(o[f]);j(k.$$.fragment,c),u=!1},d(c){c&&g(e),N(r),N(t);for(let f=0;f<o.length;f+=1)o[f].d();N(k)}}}const Ee=s=>!s.img&&s.name;function Ie(s,e,r){let l,t=[{prop:"prop",title:"職業",multi:!0,values:["俠客","鐵衛","祝由","御風","羽士","咒師","鬥將"]},{prop:"prop",title:"屬相",multi:!0,values:["炎","雷","冰","光","暗","幽"]}];function a(i){r(0,l=i)}function n(i=""){if(l.length){let o=new RegExp(`(${l})`,"g");return i.replace(o,"<mark>$1</mark>")}return i}return r(0,l=""),[l,t,a,n]}class Fe extends T{constructor(e){super(),q(this,e,Ie,we,B,{})}}export{Fe as component,Be as universal};
