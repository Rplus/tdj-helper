import{s as j,e as y,b as w,t as E,f as _,d as u,i as S,n as F,O as T,N as O,z as X,A as Y,v as $,B as Z,a as D,c as N,J as ae,K as re}from"../chunks/scheduler.t_WD850w.js";import{S as q,i as M,c as V,a as A,m as H,t as b,g as x,b as k,e as ee,d as P}from"../chunks/index.DpSpJPe6.js";import{g as ne}from"../chunks/globals.D0QH3NT1.js";import{e as z,u as se,o as ie}from"../chunks/each.5IuMTeJJ.js";import{d as te}from"../chunks/strategy.min.BEGHyA0C.js";import{g as oe}from"../chunks/fetch-data.DANy4EYm.js";import{F as ce}from"../chunks/Filter.DDn_zSIQ.js";import{H as fe}from"../chunks/Header.DqLxDNW6.js";import{F as me}from"../chunks/Footer._tziHrV2.js";import{l as he,r as ue}from"../chunks/u.Bo3NAlOF.js";import{I as _e}from"../chunks/Img.D49Ut3n0.js";const Me=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));te.forEach(s=>{s.desc_html=s.desc.replace(/.+所有我方上陣角色物攻，物防，法攻，法防提高(\d+%)[。，](.+)?$/gm,`攻防+$1
$2`)});const C=te;function J(s,t,r){const e=s.slice();return e[3]=t[r],e}function K(s,t,r){const e=s.slice();return e[3]=t[r],e}function ge(s){let t,r=z(s[1]),e=[];for(let l=0;l<r.length;l+=1)e[l]=G(J(s,r,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=T()},l(l){for(let n=0;n<e.length;n+=1)e[n].l(l);t=T()},m(l,n){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(l,n);S(l,t,n)},p(l,n){if(n&2){r=z(l[1]);let a;for(a=0;a<r.length;a+=1){const c=J(l,r,a);e[a]?e[a].p(c,n):(e[a]=G(c),e[a].c(),e[a].m(t.parentNode,t))}for(;a<e.length;a+=1)e[a].d(1);e.length=r.length}},d(l){l&&_(t),O(e,l)}}}function de(s){let t,r=z(s[1]),e=[];for(let l=0;l<r.length;l+=1)e[l]=L(K(s,r,l));return{c(){t=y("a");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=w(l,"A",{href:!0});var n=E(t);for(let a=0;a<e.length;a+=1)e[a].l(n);n.forEach(_),this.h()},h(){u(t,"href",s[0])},m(l,n){S(l,t,n);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(l,n){if(n&2){r=z(l[1]);let a;for(a=0;a<r.length;a+=1){const c=K(l,r,a);e[a]?e[a].p(c,n):(e[a]=L(c),e[a].c(),e[a].m(t,null))}for(;a<e.length;a+=1)e[a].d(1);e.length=r.length}n&1&&u(t,"href",l[0])},d(l){l&&_(t),O(e,l)}}}function G(s){let t,r=s[3]+"",e;return{c(){t=y("span"),e=X(r),this.h()},l(l){t=w(l,"SPAN",{class:!0});var n=E(t);e=Y(n,r),n.forEach(_),this.h()},h(){u(t,"class","inline-block")},m(l,n){S(l,t,n),$(t,e)},p(l,n){n&2&&r!==(r=l[3]+"")&&Z(e,r)},d(l){l&&_(t)}}}function L(s){let t,r=s[3]+"",e;return{c(){t=y("span"),e=X(r),this.h()},l(l){t=w(l,"SPAN",{class:!0});var n=E(t);e=Y(n,r),n.forEach(_),this.h()},h(){u(t,"class","inline-block")},m(l,n){S(l,t,n),$(t,e)},p(l,n){n&2&&r!==(r=l[3]+"")&&Z(e,r)},d(l){l&&_(t)}}}function pe(s){let t;function r(n,a){return n[0]?de:ge}let e=r(s),l=e(s);return{c(){t=y("span"),l.c(),this.h()},l(n){t=w(n,"SPAN",{class:!0});var a=E(t);l.l(a),a.forEach(_),this.h()},h(){u(t,"class","name svelte-1enqryi")},m(n,a){S(n,t,a),l.m(t,null)},p(n,[a]){e===(e=r(n))&&l?l.p(n,a):(l.d(1),l=e(n),l&&(l.c(),l.m(t,null)))},i:F,o:F,d(n){n&&_(t),l.d()}}}function $e(s,t,r){let e,{name:l=""}=t,{href:n=""}=t;return s.$$set=a=>{"name"in a&&r(2,l=a.name),"href"in a&&r(0,n=a.href)},s.$$.update=()=>{s.$$.dirty&4&&r(1,e=l.match(/(·)?.{1,2}/g))},[n,e,l]}class ve extends q{constructor(t){super(),M(this,t,$e,pe,j,{name:2,href:0})}}function Q(s){let t,r;return t=new _e({props:{src:s[2],alt:s[0].name,width:"64",height:"64"}}),{c(){V(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,l){H(t,e,l),r=!0},p(e,l){const n={};l&1&&(n.alt=e[0].name),t.$set(n)},i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function be(s){let t,r,e,l,n,a=s[0].img&&Q(s);return l=new ve({props:{name:s[0].name,href:s[1]}}),{c(){t=y("div"),r=y("div"),a&&a.c(),e=D(),V(l.$$.fragment),this.h()},l(c){t=w(c,"DIV",{class:!0});var f=E(t);r=w(f,"DIV",{class:!0});var h=E(r);a&&a.l(h),h.forEach(_),e=N(f),A(l.$$.fragment,f),f.forEach(_),this.h()},h(){u(r,"class","avatar svelte-70btyu"),u(t,"class","member svelte-70btyu")},m(c,f){S(c,t,f),$(t,r),a&&a.m(r,null),$(t,e),H(l,t,null),n=!0},p(c,[f]){c[0].img?a?(a.p(c,f),f&1&&b(a,1)):(a=Q(c),a.c(),b(a,1),a.m(r,null)):a&&(x(),k(a,1,1,()=>{a=null}),ee());const h={};f&1&&(h.name=c[0].name),f&2&&(h.href=c[1]),l.$set(h)},i(c){n||(b(a),b(l.$$.fragment,c),n=!0)},o(c){k(a),k(l.$$.fragment,c),n=!1},d(c){c&&_(t),a&&a.d(),P(l)}}}function ke(s,t,r){let{member:e={}}=t,l=!!e.desc,n=!l&&!!e.img,a;n&&(a=he(`/role/${e.name}`));let f=ue(`https://media.zlongame.com/media/news/cn/tdj/info/data/${l?"strategy":"heroicon"}/${e.img}.png`);return s.$$set=h=>{"member"in h&&r(0,e=h.member)},[e,a,f]}class le extends q{constructor(t){super(),M(this,t,ke,be,j,{member:0})}}const{Boolean:ye}=ne;function U(s,t,r){const e=s.slice();e[4]=t[r];const l=e[3](e[4].desc_html,e[0]);return e[5]=l,e}function we(s,t,r){const e=s.slice();return e[8]=t[r],e}function Ee(s){let t,r;return t=new le({props:{member:s[8]}}),{c(){V(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,l){H(t,e,l),r=!0},p:F,i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function W(s,t){let r,e,l,n,a,c,f,h=t[5].detail+"",p,d,v;l=new le({props:{member:t[4]}});let I=z(t[4].members),g=[];for(let o=0;o<I.length;o+=1)g[o]=Ee(we(t,I,o));return{key:s,first:null,c(){r=y("div"),e=y("div"),V(l.$$.fragment),n=D();for(let o=0;o<g.length;o+=1)g[o].c();a=D(),c=y("div"),f=new ae(!1),this.h()},l(o){r=w(o,"DIV",{class:!0,"data-prop":!0,"data-search":!0,id:!0});var i=E(r);e=w(i,"DIV",{class:!0});var m=E(e);A(l.$$.fragment,m),n=N(m);for(let B=0;B<g.length;B+=1)g[B].l(m);m.forEach(_),a=N(i),c=w(i,"DIV",{class:!0,"data-basic":!0});var R=E(c);f=re(R,!1),R.forEach(_),i.forEach(_),this.h()},h(){u(e,"class","members flex svelte-1oc0ym8"),f.a=null,u(c,"class","info svelte-1oc0ym8"),u(c,"data-basic",p=t[5].basic),u(r,"class","row flex svelte-1oc0ym8"),u(r,"data-prop",t[4].members.map(Se).filter(Boolean)),u(r,"data-search",d=t[5].detail),u(r,"id",t[4].name),this.first=r},m(o,i){S(o,r,i),$(r,e),H(l,e,null),$(e,n);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(e,null);$(r,a),$(r,c),f.m(h,c),v=!0},p(o,i){t=o,(!v||i&1)&&h!==(h=t[5].detail+"")&&f.p(h),(!v||i&1&&p!==(p=t[5].basic))&&u(c,"data-basic",p),(!v||i&1&&d!==(d=t[5].detail))&&u(r,"data-search",d)},i(o){if(!v){b(l.$$.fragment,o);for(let i=0;i<I.length;i+=1)b(g[i]);v=!0}},o(o){k(l.$$.fragment,o),g=g.filter(ye);for(let i=0;i<g.length;i+=1)k(g[i]);v=!1},d(o){o&&_(r),P(l),O(g,o)}}}function Ie(s){let t,r,e,l,n,a,c,f=[],h=new Map,p,d,v;r=new fe({props:{title:"戰陣圖鑑"}}),l=new ce({props:{filter_cates:s[1],item_class:".row",placeholder:"過濾說明",search_cb:s[2]}});let I=z(C);const g=o=>o[4].name;for(let o=0;o<I.length;o+=1){let i=U(s,I,o),m=g(i);h.set(m,f[o]=W(m,i))}return d=new me({props:{time:!0,refs:oe([1,1,0])}}),{c(){t=y("div"),V(r.$$.fragment),e=D(),V(l.$$.fragment),n=D(),a=y("hr"),c=D();for(let o=0;o<f.length;o+=1)f[o].c();p=D(),V(d.$$.fragment),this.h()},l(o){t=w(o,"DIV",{class:!0});var i=E(t);A(r.$$.fragment,i),e=N(i),A(l.$$.fragment,i),n=N(i),a=w(i,"HR",{class:!0}),c=N(i);for(let m=0;m<f.length;m+=1)f[m].l(i);p=N(i),A(d.$$.fragment,i),i.forEach(_),this.h()},h(){u(a,"class","svelte-1oc0ym8"),u(t,"class","workspace")},m(o,i){S(o,t,i),H(r,t,null),$(t,e),H(l,t,null),$(t,n),$(t,a),$(t,c);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(t,null);$(t,p),H(d,t,null),v=!0},p(o,[i]){i&9&&(I=z(C),x(),f=se(f,i,g,1,o,I,h,t,ie,W,p,U),ee())},i(o){if(!v){b(r.$$.fragment,o),b(l.$$.fragment,o);for(let i=0;i<I.length;i+=1)b(f[i]);b(d.$$.fragment,o),v=!0}},o(o){k(r.$$.fragment,o),k(l.$$.fragment,o);for(let i=0;i<f.length;i+=1)k(f[i]);k(d.$$.fragment,o),v=!1},d(o){o&&_(t),P(r),P(l);for(let i=0;i<f.length;i+=1)f[i].d();P(d)}}}const Se=s=>!s.img&&s.name;function De(s,t,r){let e,l=[{prop:"prop",title:"職業",multi:!0,values:["俠客","鐵衛","祝由","御風","羽士","咒師","鬥將"]},{prop:"prop",title:"屬相",multi:!0,values:["炎","雷","冰","光","暗","幽"]}];function n(c){r(0,e=c)}function a(c=""){let[,f,h]=c.split(/^(攻防.+)\n/gm),p={basic:f,detail:h};if(e.length){let d=new RegExp(`(${e})`,"g");p.detail=p.detail.replace(d,"<mark>$1</mark>")}return p}return r(0,e=""),[e,l,n,a]}class Re extends q{constructor(t){super(),M(this,t,De,Ie,j,{})}}export{Re as component,Me as universal};
