import{s as j,e as y,b as w,t as E,f as _,d as u,i as S,n as F,M as T,L as M,z as X,A as Y,v as $,B as Z,a as D,c as V,a6 as le,a7 as re}from"../chunks/scheduler.BwZByWNM.js";import{S as q,i as O,c as A,a as H,m as N,t as b,g as x,b as k,e as ee,d as P}from"../chunks/index.CzTF124p.js";import{g as ne}from"../chunks/globals.D0QH3NT1.js";import{e as z,u as se,o as ie}from"../chunks/each.BIW2j3Zg.js";import{d as te}from"../chunks/strategy.min.BEGHyA0C.js";import{g as oe}from"../chunks/fetch-data.DANy4EYm.js";import{F as ce}from"../chunks/Filter.D2-gjGC2.js";import{H as fe}from"../chunks/Header.O6S_V36q.js";import{F as me}from"../chunks/Footer.CysTgwK2.js";import{l as he,r as ue}from"../chunks/u.Bp8p7grR.js";import{I as _e}from"../chunks/Img.Co2bsN0P.js";const Oe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));te.forEach(s=>{s.desc_html=s.desc.replace(/.+所有我方上陣角色物攻，物防，法攻，法防提高(\d+%)[。，](.+)?$/gm,`攻防+$1
$2`)});const C=te;function L(s,t,r){const e=s.slice();return e[3]=t[r],e}function G(s,t,r){const e=s.slice();return e[3]=t[r],e}function ge(s){let t,r=z(s[1]),e=[];for(let a=0;a<r.length;a+=1)e[a]=J(L(s,r,a));return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=T()},l(a){for(let n=0;n<e.length;n+=1)e[n].l(a);t=T()},m(a,n){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(a,n);S(a,t,n)},p(a,n){if(n&2){r=z(a[1]);let l;for(l=0;l<r.length;l+=1){const c=L(a,r,l);e[l]?e[l].p(c,n):(e[l]=J(c),e[l].c(),e[l].m(t.parentNode,t))}for(;l<e.length;l+=1)e[l].d(1);e.length=r.length}},d(a){a&&_(t),M(e,a)}}}function de(s){let t,r=z(s[1]),e=[];for(let a=0;a<r.length;a+=1)e[a]=K(G(s,r,a));return{c(){t=y("a");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){t=w(a,"A",{href:!0});var n=E(t);for(let l=0;l<e.length;l+=1)e[l].l(n);n.forEach(_),this.h()},h(){u(t,"href",s[0])},m(a,n){S(a,t,n);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(t,null)},p(a,n){if(n&2){r=z(a[1]);let l;for(l=0;l<r.length;l+=1){const c=G(a,r,l);e[l]?e[l].p(c,n):(e[l]=K(c),e[l].c(),e[l].m(t,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=r.length}n&1&&u(t,"href",a[0])},d(a){a&&_(t),M(e,a)}}}function J(s){let t,r=s[3]+"",e;return{c(){t=y("span"),e=X(r),this.h()},l(a){t=w(a,"SPAN",{class:!0});var n=E(t);e=Y(n,r),n.forEach(_),this.h()},h(){u(t,"class","inline-block")},m(a,n){S(a,t,n),$(t,e)},p(a,n){n&2&&r!==(r=a[3]+"")&&Z(e,r)},d(a){a&&_(t)}}}function K(s){let t,r=s[3]+"",e;return{c(){t=y("span"),e=X(r),this.h()},l(a){t=w(a,"SPAN",{class:!0});var n=E(t);e=Y(n,r),n.forEach(_),this.h()},h(){u(t,"class","inline-block")},m(a,n){S(a,t,n),$(t,e)},p(a,n){n&2&&r!==(r=a[3]+"")&&Z(e,r)},d(a){a&&_(t)}}}function pe(s){let t;function r(n,l){return n[0]?de:ge}let e=r(s),a=e(s);return{c(){t=y("span"),a.c(),this.h()},l(n){t=w(n,"SPAN",{class:!0});var l=E(t);a.l(l),l.forEach(_),this.h()},h(){u(t,"class","name svelte-1enqryi")},m(n,l){S(n,t,l),a.m(t,null)},p(n,[l]){e===(e=r(n))&&a?a.p(n,l):(a.d(1),a=e(n),a&&(a.c(),a.m(t,null)))},i:F,o:F,d(n){n&&_(t),a.d()}}}function $e(s,t,r){let e,{name:a=""}=t,{href:n=""}=t;return s.$$set=l=>{"name"in l&&r(2,a=l.name),"href"in l&&r(0,n=l.href)},s.$$.update=()=>{s.$$.dirty&4&&r(1,e=a.match(/(·)?.{1,2}/g))},[n,e,a]}class ve extends q{constructor(t){super(),O(this,t,$e,pe,j,{name:2,href:0})}}function Q(s){let t,r;return t=new _e({props:{src:s[2],alt:s[0].name,width:"64",height:"64"}}),{c(){A(t.$$.fragment)},l(e){H(t.$$.fragment,e)},m(e,a){N(t,e,a),r=!0},p(e,a){const n={};a&1&&(n.alt=e[0].name),t.$set(n)},i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function be(s){let t,r,e,a,n,l=s[0].img&&Q(s);return a=new ve({props:{name:s[0].name,href:s[1]}}),{c(){t=y("div"),r=y("div"),l&&l.c(),e=D(),A(a.$$.fragment),this.h()},l(c){t=w(c,"DIV",{class:!0});var f=E(t);r=w(f,"DIV",{class:!0});var h=E(r);l&&l.l(h),h.forEach(_),e=V(f),H(a.$$.fragment,f),f.forEach(_),this.h()},h(){u(r,"class","avatar svelte-70btyu"),u(t,"class","member svelte-70btyu")},m(c,f){S(c,t,f),$(t,r),l&&l.m(r,null),$(t,e),N(a,t,null),n=!0},p(c,[f]){c[0].img?l?(l.p(c,f),f&1&&b(l,1)):(l=Q(c),l.c(),b(l,1),l.m(r,null)):l&&(x(),k(l,1,1,()=>{l=null}),ee());const h={};f&1&&(h.name=c[0].name),f&2&&(h.href=c[1]),a.$set(h)},i(c){n||(b(l),b(a.$$.fragment,c),n=!0)},o(c){k(l),k(a.$$.fragment,c),n=!1},d(c){c&&_(t),l&&l.d(),P(a)}}}function ke(s,t,r){let{member:e={}}=t,a=!!e.desc,n=!a&&!!e.img,l;n&&(l=he(`/role/${e.name}`));let f=ue(`https://media.zlongame.com/media/news/cn/tdj/info/data/${a?"strategy":"heroicon"}/${e.img}.png`);return s.$$set=h=>{"member"in h&&r(0,e=h.member)},[e,l,f]}class ae extends q{constructor(t){super(),O(this,t,ke,be,j,{member:0})}}const{Boolean:ye}=ne;function U(s,t,r){const e=s.slice();e[4]=t[r];const a=e[3](e[4].desc_html,e[0]);return e[5]=a,e}function we(s,t,r){const e=s.slice();return e[8]=t[r],e}function Ee(s){let t,r;return t=new ae({props:{member:s[8]}}),{c(){A(t.$$.fragment)},l(e){H(t.$$.fragment,e)},m(e,a){N(t,e,a),r=!0},p:F,i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function W(s,t){let r,e,a,n,l,c,f,h=t[5].detail+"",p,d,v;a=new ae({props:{member:t[4]}});let I=z(t[4].members),g=[];for(let o=0;o<I.length;o+=1)g[o]=Ee(we(t,I,o));return{key:s,first:null,c(){r=y("div"),e=y("div"),A(a.$$.fragment),n=D();for(let o=0;o<g.length;o+=1)g[o].c();l=D(),c=y("div"),f=new le(!1),this.h()},l(o){r=w(o,"DIV",{class:!0,"data-prop":!0,"data-search":!0,id:!0});var i=E(r);e=w(i,"DIV",{class:!0});var m=E(e);H(a.$$.fragment,m),n=V(m);for(let B=0;B<g.length;B+=1)g[B].l(m);m.forEach(_),l=V(i),c=w(i,"DIV",{class:!0,"data-basic":!0});var R=E(c);f=re(R,!1),R.forEach(_),i.forEach(_),this.h()},h(){u(e,"class","members flex svelte-1oc0ym8"),f.a=null,u(c,"class","info svelte-1oc0ym8"),u(c,"data-basic",p=t[5].basic),u(r,"class","row flex svelte-1oc0ym8"),u(r,"data-prop",t[4].members.map(Se).filter(Boolean)),u(r,"data-search",d=t[5].detail),u(r,"id",t[4].name),this.first=r},m(o,i){S(o,r,i),$(r,e),N(a,e,null),$(e,n);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(e,null);$(r,l),$(r,c),f.m(h,c),v=!0},p(o,i){t=o,(!v||i&1)&&h!==(h=t[5].detail+"")&&f.p(h),(!v||i&1&&p!==(p=t[5].basic))&&u(c,"data-basic",p),(!v||i&1&&d!==(d=t[5].detail))&&u(r,"data-search",d)},i(o){if(!v){b(a.$$.fragment,o);for(let i=0;i<I.length;i+=1)b(g[i]);v=!0}},o(o){k(a.$$.fragment,o),g=g.filter(ye);for(let i=0;i<g.length;i+=1)k(g[i]);v=!1},d(o){o&&_(r),P(a),M(g,o)}}}function Ie(s){let t,r,e,a,n,l,c,f=[],h=new Map,p,d,v;r=new fe({props:{title:"戰陣圖鑑"}}),a=new ce({props:{filter_cates:s[1],item_class:".row",placeholder:"過濾說明",search_cb:s[2]}});let I=z(C);const g=o=>o[4].name;for(let o=0;o<I.length;o+=1){let i=U(s,I,o),m=g(i);h.set(m,f[o]=W(m,i))}return d=new me({props:{time:!0,refs:oe([1,1,0])}}),{c(){t=y("div"),A(r.$$.fragment),e=D(),A(a.$$.fragment),n=D(),l=y("hr"),c=D();for(let o=0;o<f.length;o+=1)f[o].c();p=D(),A(d.$$.fragment),this.h()},l(o){t=w(o,"DIV",{class:!0});var i=E(t);H(r.$$.fragment,i),e=V(i),H(a.$$.fragment,i),n=V(i),l=w(i,"HR",{class:!0}),c=V(i);for(let m=0;m<f.length;m+=1)f[m].l(i);p=V(i),H(d.$$.fragment,i),i.forEach(_),this.h()},h(){u(l,"class","svelte-1oc0ym8"),u(t,"class","workspace")},m(o,i){S(o,t,i),N(r,t,null),$(t,e),N(a,t,null),$(t,n),$(t,l),$(t,c);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(t,null);$(t,p),N(d,t,null),v=!0},p(o,[i]){i&9&&(I=z(C),x(),f=se(f,i,g,1,o,I,h,t,ie,W,p,U),ee())},i(o){if(!v){b(r.$$.fragment,o),b(a.$$.fragment,o);for(let i=0;i<I.length;i+=1)b(f[i]);b(d.$$.fragment,o),v=!0}},o(o){k(r.$$.fragment,o),k(a.$$.fragment,o);for(let i=0;i<f.length;i+=1)k(f[i]);k(d.$$.fragment,o),v=!1},d(o){o&&_(t),P(r),P(a);for(let i=0;i<f.length;i+=1)f[i].d();P(d)}}}const Se=s=>!s.img&&s.name;function De(s,t,r){let e,a=[{prop:"prop",title:"職業",multi:!0,values:["俠客","鐵衛","祝由","御風","羽士","咒師","鬥將"]},{prop:"prop",title:"屬相",multi:!0,values:["炎","雷","冰","光","暗","幽"]}];function n(c){r(0,e=c)}function l(c=""){let[,f,h]=c.split(/^(攻防.+)\n/gm),p={basic:f,detail:h};if(e.length){let d=new RegExp(`(${e})`,"g");p.detail=p.detail.replace(d,"<mark>$1</mark>")}return p}return r(0,e=""),[e,a,n,l]}class Re extends q{constructor(t){super(),O(this,t,De,Ie,j,{})}}export{Re as component,Oe as universal};
