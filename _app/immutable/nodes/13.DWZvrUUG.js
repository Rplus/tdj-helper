import{s as j,e as y,b as w,t as E,f as _,d as u,i as S,n as F,N as T,L as q,z as X,A as Y,v as $,B as Z,a as D,c as N,a6 as le,a7 as re}from"../chunks/scheduler.B4IQQT9J.js";import{S as M,i as O,c as V,a as A,m as H,t as v,g as x,b as k,e as ee,d as P}from"../chunks/index.B_Q0Z5DJ.js";import{g as ne}from"../chunks/globals.D0QH3NT1.js";import{e as z,u as se,o as ie}from"../chunks/each.Cesi7C-X.js";import{d as te}from"../chunks/strategy.min.Bb1Jj1_8.js";import{g as oe}from"../chunks/fetch-data.DANy4EYm.js";import{F as ce}from"../chunks/Filter.cdXmoV0c.js";import{H as fe}from"../chunks/Header.DZq-4Buu.js";import{F as me}from"../chunks/Footer.DWGjyO8n.js";import{l as he,r as ue,g as _e}from"../chunks/u.DMqUv_IL.js";import{I as ge}from"../chunks/Img.BZrZdNJw.js";const Re=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));te.forEach(s=>{s.desc_html=s.desc.replace(/.+所有我方上陣角色物攻，物防，法攻，法防提高(\d+%)[。，](.+)?$/gm,`攻防+$1
$2`)});const C=te;function L(s,t,r){const e=s.slice();return e[3]=t[r],e}function G(s,t,r){const e=s.slice();return e[3]=t[r],e}function de(s){let t,r=z(s[1]),e=[];for(let a=0;a<r.length;a+=1)e[a]=J(L(s,r,a));return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=T()},l(a){for(let n=0;n<e.length;n+=1)e[n].l(a);t=T()},m(a,n){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(a,n);S(a,t,n)},p(a,n){if(n&2){r=z(a[1]);let l;for(l=0;l<r.length;l+=1){const f=L(a,r,l);e[l]?e[l].p(f,n):(e[l]=J(f),e[l].c(),e[l].m(t.parentNode,t))}for(;l<e.length;l+=1)e[l].d(1);e.length=r.length}},d(a){a&&_(t),q(e,a)}}}function pe(s){let t,r=z(s[1]),e=[];for(let a=0;a<r.length;a+=1)e[a]=K(G(s,r,a));return{c(){t=y("a");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){t=w(a,"A",{href:!0});var n=E(t);for(let l=0;l<e.length;l+=1)e[l].l(n);n.forEach(_),this.h()},h(){u(t,"href",s[0])},m(a,n){S(a,t,n);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(t,null)},p(a,n){if(n&2){r=z(a[1]);let l;for(l=0;l<r.length;l+=1){const f=G(a,r,l);e[l]?e[l].p(f,n):(e[l]=K(f),e[l].c(),e[l].m(t,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=r.length}n&1&&u(t,"href",a[0])},d(a){a&&_(t),q(e,a)}}}function J(s){let t,r=s[3]+"",e;return{c(){t=y("span"),e=X(r),this.h()},l(a){t=w(a,"SPAN",{class:!0});var n=E(t);e=Y(n,r),n.forEach(_),this.h()},h(){u(t,"class","inline-block")},m(a,n){S(a,t,n),$(t,e)},p(a,n){n&2&&r!==(r=a[3]+"")&&Z(e,r)},d(a){a&&_(t)}}}function K(s){let t,r=s[3]+"",e;return{c(){t=y("span"),e=X(r),this.h()},l(a){t=w(a,"SPAN",{class:!0});var n=E(t);e=Y(n,r),n.forEach(_),this.h()},h(){u(t,"class","inline-block")},m(a,n){S(a,t,n),$(t,e)},p(a,n){n&2&&r!==(r=a[3]+"")&&Z(e,r)},d(a){a&&_(t)}}}function $e(s){let t;function r(n,l){return n[0]?pe:de}let e=r(s),a=e(s);return{c(){t=y("span"),a.c(),this.h()},l(n){t=w(n,"SPAN",{class:!0});var l=E(t);a.l(l),l.forEach(_),this.h()},h(){u(t,"class","name svelte-1enqryi")},m(n,l){S(n,t,l),a.m(t,null)},p(n,[l]){e===(e=r(n))&&a?a.p(n,l):(a.d(1),a=e(n),a&&(a.c(),a.m(t,null)))},i:F,o:F,d(n){n&&_(t),a.d()}}}function ve(s,t,r){let e,{name:a=""}=t,{href:n=""}=t;return s.$$set=l=>{"name"in l&&r(2,a=l.name),"href"in l&&r(0,n=l.href)},s.$$.update=()=>{s.$$.dirty&4&&r(1,e=a.match(/(·)?.{1,2}/g))},[n,e,a]}class be extends M{constructor(t){super(),O(this,t,ve,$e,j,{name:2,href:0})}}function Q(s){let t,r;return t=new ge({props:{src:s[2],alt:s[0].name,width:"64",height:"64"}}),{c(){V(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,a){H(t,e,a),r=!0},p(e,a){const n={};a&1&&(n.alt=e[0].name),t.$set(n)},i(e){r||(v(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function ke(s){let t,r,e,a,n,l=s[0].img&&Q(s);return a=new be({props:{name:s[0].name,href:s[1]}}),{c(){t=y("div"),r=y("div"),l&&l.c(),e=D(),V(a.$$.fragment),this.h()},l(f){t=w(f,"DIV",{class:!0});var c=E(t);r=w(c,"DIV",{class:!0});var h=E(r);l&&l.l(h),h.forEach(_),e=N(c),A(a.$$.fragment,c),c.forEach(_),this.h()},h(){u(r,"class","avatar svelte-70btyu"),u(t,"class","member svelte-70btyu")},m(f,c){S(f,t,c),$(t,r),l&&l.m(r,null),$(t,e),H(a,t,null),n=!0},p(f,[c]){f[0].img?l?(l.p(f,c),c&1&&v(l,1)):(l=Q(f),l.c(),v(l,1),l.m(r,null)):l&&(x(),k(l,1,1,()=>{l=null}),ee());const h={};c&1&&(h.name=f[0].name),c&2&&(h.href=f[1]),a.$set(h)},i(f){n||(v(l),v(a.$$.fragment,f),n=!0)},o(f){k(l),k(a.$$.fragment,f),n=!1},d(f){f&&_(t),l&&l.d(),P(a)}}}function ye(s,t,r){let{member:e={}}=t,a=!!e.desc,n=!a&&!!e.img,l;n&&(l=he(`/role/${e.name}`));let c=ue(`https://media.zlongame.com/media/news/cn/tdj/info/data/${a?"strategy":"heroicon"}/${e.img}.png`);return s.$$set=h=>{"member"in h&&r(0,e=h.member)},[e,l,c]}class ae extends M{constructor(t){super(),O(this,t,ye,ke,j,{member:0})}}const{Boolean:we}=ne;function U(s,t,r){const e=s.slice();e[5]=t[r];const a=e[3](e[5].desc_html,e[0]);return e[6]=a,e}function Ee(s,t,r){const e=s.slice();return e[9]=t[r],e}function Ie(s){let t,r;return t=new ae({props:{member:s[9]}}),{c(){V(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,a){H(t,e,a),r=!0},p:F,i(e){r||(v(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function W(s,t){let r,e,a,n,l,f,c,h=t[6].detail+"",b,d,p;a=new ae({props:{member:t[5]}});let I=z(t[5].members),g=[];for(let o=0;o<I.length;o+=1)g[o]=Ie(Ee(t,I,o));return{key:s,first:null,c(){r=y("div"),e=y("div"),V(a.$$.fragment),n=D();for(let o=0;o<g.length;o+=1)g[o].c();l=D(),f=y("div"),c=new le(!1),this.h()},l(o){r=w(o,"DIV",{class:!0,"data-prop":!0,"data-search":!0,id:!0});var i=E(r);e=w(i,"DIV",{class:!0});var m=E(e);A(a.$$.fragment,m),n=N(m);for(let B=0;B<g.length;B+=1)g[B].l(m);m.forEach(_),l=N(i),f=w(i,"DIV",{class:!0,"data-basic":!0});var R=E(f);c=re(R,!1),R.forEach(_),i.forEach(_),this.h()},h(){u(e,"class","members flex svelte-1oc0ym8"),c.a=null,u(f,"class","info svelte-1oc0ym8"),u(f,"data-basic",b=t[6].basic),u(r,"class","row flex svelte-1oc0ym8"),u(r,"data-prop",t[5].members.map(De).filter(Boolean)),u(r,"data-search",d=t[6].detail),u(r,"id",t[5].name),this.first=r},m(o,i){S(o,r,i),$(r,e),H(a,e,null),$(e,n);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(e,null);$(r,l),$(r,f),c.m(h,f),p=!0},p(o,i){t=o,(!p||i&1)&&h!==(h=t[6].detail+"")&&c.p(h),(!p||i&1&&b!==(b=t[6].basic))&&u(f,"data-basic",b),(!p||i&1&&d!==(d=t[6].detail))&&u(r,"data-search",d)},i(o){if(!p){v(a.$$.fragment,o);for(let i=0;i<I.length;i+=1)v(g[i]);p=!0}},o(o){k(a.$$.fragment,o),g=g.filter(we);for(let i=0;i<g.length;i+=1)k(g[i]);p=!1},d(o){o&&_(r),P(a),q(g,o)}}}function Se(s){let t,r,e,a,n,l,f,c=[],h=new Map,b,d,p;r=new fe({props:{title:"戰陣圖鑑"}}),a=new ce({props:{filter_cates:s[1],item_class:".row",placeholder:"過濾說明",search_cb:s[2]}});let I=z(C);const g=o=>o[5].name;for(let o=0;o<I.length;o+=1){let i=U(s,I,o),m=g(i);h.set(m,c[o]=W(m,i))}return d=new me({props:{time:!0,refs:oe([1,1,0])}}),{c(){t=y("div"),V(r.$$.fragment),e=D(),V(a.$$.fragment),n=D(),l=y("hr"),f=D();for(let o=0;o<c.length;o+=1)c[o].c();b=D(),V(d.$$.fragment),this.h()},l(o){t=w(o,"DIV",{class:!0});var i=E(t);A(r.$$.fragment,i),e=N(i),A(a.$$.fragment,i),n=N(i),l=w(i,"HR",{class:!0}),f=N(i);for(let m=0;m<c.length;m+=1)c[m].l(i);b=N(i),A(d.$$.fragment,i),i.forEach(_),this.h()},h(){u(l,"class","svelte-1oc0ym8"),u(t,"class","workspace")},m(o,i){S(o,t,i),H(r,t,null),$(t,e),H(a,t,null),$(t,n),$(t,l),$(t,f);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(t,null);$(t,b),H(d,t,null),p=!0},p(o,[i]){i&9&&(I=z(C),x(),c=se(c,i,g,1,o,I,h,t,ie,W,b,U),ee())},i(o){if(!p){v(r.$$.fragment,o),v(a.$$.fragment,o);for(let i=0;i<I.length;i+=1)v(c[i]);v(d.$$.fragment,o),p=!0}},o(o){k(r.$$.fragment,o),k(a.$$.fragment,o);for(let i=0;i<c.length;i+=1)k(c[i]);k(d.$$.fragment,o),p=!1},d(o){o&&_(t),P(r),P(a);for(let i=0;i<c.length;i+=1)c[i].d();P(d)}}}const De=s=>!s.img&&s.name;function Ne(s,t,r){let e;const a=["俠客","鐵衛","祝由","御風","羽士","咒師","鬥將"];let n=[{prop:"prop",title:"職業",multi:!0,values:a,icons:a.map(c=>_e(c))},{prop:"prop",title:"屬相",multi:!0,values:["炎","雷","冰","光","暗","幽"]}];function l(c){r(0,e=c)}function f(c=""){let[,h,b]=c.split(/^(攻防.+)\n/gm),d={basic:h,detail:b};if(e.length){let p=new RegExp(`(${e})`,"g");d.detail=d.detail.replace(p,"<mark>$1</mark>")}return d}return r(0,e=""),[e,n,l,f]}class Te extends M{constructor(t){super(),O(this,t,Ne,Se,j,{})}}export{Te as component,Re as universal};
