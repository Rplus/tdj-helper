import{s as B,e as v,b,o as w,f as g,d as h,i as E,n as P,J as C,G as F,z as U,A as W,p as $,B as X,a as S,c as D,I as x,H as ee,C as te}from"../chunks/scheduler.xqt9C0zT.js";import{S as q,i as M,c as V,a as z,m as A,t as I,b as j,d as N,e as le,g as re}from"../chunks/index.DOOeqBha.js";import{g as ae}from"../chunks/globals.D0QH3NT1.js";import{e as H,u as ne,o as se}from"../chunks/each.BmqqY_o8.js";import{d as Y}from"../chunks/strategy.min.HrqsHgWl.js";import{g as ie}from"../chunks/fetch-data.DDzm-oUS.js";import{F as oe}from"../chunks/Filter.Bmp8PkSR.js";import{H as ce}from"../chunks/Header.DfjT7n72.js";import{F as fe}from"../chunks/Footer.DbJ__9vC.js";import{l as me,r as he}from"../chunks/u.D9HOjivX.js";const Fe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));Y.forEach(s=>{s.desc_html=s.desc.replace(/.+所有我方上陣角色物攻，物防，法攻，法防提高(\d+%)[。，](.+)?$/gm,`攻防+$1
$2`)});const G=Y;function O(s,e,r){const l=s.slice();return l[3]=e[r],l}function R(s,e,r){const l=s.slice();return l[3]=e[r],l}function ue(s){let e,r=H(s[1]),l=[];for(let t=0;t<r.length;t+=1)l[t]=T(O(s,r,t));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=C()},l(t){for(let n=0;n<l.length;n+=1)l[n].l(t);e=C()},m(t,n){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(t,n);E(t,e,n)},p(t,n){if(n&2){r=H(t[1]);let a;for(a=0;a<r.length;a+=1){const i=O(t,r,a);l[a]?l[a].p(i,n):(l[a]=T(i),l[a].c(),l[a].m(e.parentNode,e))}for(;a<l.length;a+=1)l[a].d(1);l.length=r.length}},d(t){t&&g(e),F(l,t)}}}function _e(s){let e,r=H(s[1]),l=[];for(let t=0;t<r.length;t+=1)l[t]=J(R(s,r,t));return{c(){e=v("a");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){e=b(t,"A",{href:!0});var n=w(e);for(let a=0;a<l.length;a+=1)l[a].l(n);n.forEach(g),this.h()},h(){h(e,"href",s[0])},m(t,n){E(t,e,n);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(t,n){if(n&2){r=H(t[1]);let a;for(a=0;a<r.length;a+=1){const i=R(t,r,a);l[a]?l[a].p(i,n):(l[a]=J(i),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=r.length}n&1&&h(e,"href",t[0])},d(t){t&&g(e),F(l,t)}}}function T(s){let e,r=s[3]+"",l;return{c(){e=v("span"),l=U(r),this.h()},l(t){e=b(t,"SPAN",{class:!0});var n=w(e);l=W(n,r),n.forEach(g),this.h()},h(){h(e,"class","inline-block")},m(t,n){E(t,e,n),$(e,l)},p(t,n){n&2&&r!==(r=t[3]+"")&&X(l,r)},d(t){t&&g(e)}}}function J(s){let e,r=s[3]+"",l;return{c(){e=v("span"),l=U(r),this.h()},l(t){e=b(t,"SPAN",{class:!0});var n=w(e);l=W(n,r),n.forEach(g),this.h()},h(){h(e,"class","inline-block")},m(t,n){E(t,e,n),$(e,l)},p(t,n){n&2&&r!==(r=t[3]+"")&&X(l,r)},d(t){t&&g(e)}}}function ge(s){let e;function r(n,a){return n[0]?_e:ue}let l=r(s),t=l(s);return{c(){e=v("span"),t.c(),this.h()},l(n){e=b(n,"SPAN",{class:!0});var a=w(e);t.l(a),a.forEach(g),this.h()},h(){h(e,"class","name svelte-1enqryi")},m(n,a){E(n,e,a),t.m(e,null)},p(n,[a]){l===(l=r(n))&&t?t.p(n,a):(t.d(1),t=l(n),t&&(t.c(),t.m(e,null)))},i:P,o:P,d(n){n&&g(e),t.d()}}}function de(s,e,r){let l,{name:t=""}=e,{href:n=""}=e;return s.$$set=a=>{"name"in a&&r(2,t=a.name),"href"in a&&r(0,n=a.href)},s.$$.update=()=>{s.$$.dirty&4&&r(1,l=t.match(/(·)?.{1,2}/g))},[n,l,t]}class pe extends q{constructor(e){super(),M(this,e,de,ge,B,{name:2,href:0})}}function K(s){let e,r,l;return{c(){e=v("img"),this.h()},l(t){e=b(t,"IMG",{decoding:!0,loading:!0,src:!0,alt:!0,width:!0,height:!0,class:!0}),this.h()},h(){h(e,"decoding","async"),h(e,"loading","lazy"),x(e.src,r=s[2])||h(e,"src",r),h(e,"alt",l=s[0].name),h(e,"width","64"),h(e,"height","64"),h(e,"class","svelte-x2gtox")},m(t,n){E(t,e,n)},p(t,n){n&1&&l!==(l=t[0].name)&&h(e,"alt",l)},d(t){t&&g(e)}}}function $e(s){let e,r,l,t,n,a=s[0].img&&K(s);return t=new pe({props:{name:s[0].name,href:s[1]}}),{c(){e=v("div"),r=v("div"),a&&a.c(),l=S(),V(t.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var o=w(e);r=b(o,"DIV",{class:!0});var d=w(r);a&&a.l(d),d.forEach(g),l=D(o),z(t.$$.fragment,o),o.forEach(g),this.h()},h(){h(r,"class","avatar svelte-x2gtox"),h(e,"class","member svelte-x2gtox")},m(i,o){E(i,e,o),$(e,r),a&&a.m(r,null),$(e,l),A(t,e,null),n=!0},p(i,[o]){i[0].img?a?a.p(i,o):(a=K(i),a.c(),a.m(r,null)):a&&(a.d(1),a=null);const d={};o&1&&(d.name=i[0].name),o&2&&(d.href=i[1]),t.$set(d)},i(i){n||(I(t.$$.fragment,i),n=!0)},o(i){j(t.$$.fragment,i),n=!1},d(i){i&&g(e),a&&a.d(),N(t)}}}function ve(s,e,r){let{member:l={}}=e,t=!!l.desc,n=!t&&!!l.img,a;n&&(a=me(`/role/${l.name}`));let o=he(`https://media.zlongame.com/media/news/cn/tdj/info/data/${t?"strategy":"heroicon"}/${l.img}.png`);return s.$$set=d=>{"member"in d&&r(0,l=d.member)},[l,a,o]}class Z extends q{constructor(e){super(),M(this,e,ve,$e,B,{member:0})}}const{Boolean:be}=ae;function L(s,e,r){const l=s.slice();return l[4]=e[r],l}function ke(s,e,r){const l=s.slice();return l[7]=e[r],l}function ye(s){let e,r;return e=new Z({props:{member:s[7]}}),{c(){V(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,t){A(e,l,t),r=!0},p:P,i(l){r||(I(e.$$.fragment,l),r=!0)},o(l){j(e.$$.fragment,l),r=!1},d(l){N(e,l)}}}function Q(s,e){let r,l,t,n,a,i,o,d=e[3](e[4].desc_html,e[0])+"",y;t=new Z({props:{member:e[4]}});let k=H(e[4].members),u=[];for(let m=0;m<k.length;m+=1)u[m]=ye(ke(e,k,m));return{key:s,first:null,c(){r=v("div"),l=v("div"),V(t.$$.fragment),n=S();for(let m=0;m<u.length;m+=1)u[m].c();a=S(),i=v("div"),o=new ee(!1),this.h()},l(m){r=b(m,"DIV",{class:!0,"data-prop":!0,"data-search":!0,id:!0});var _=w(r);l=b(_,"DIV",{class:!0});var c=w(l);z(t.$$.fragment,c),n=D(c);for(let p=0;p<u.length;p+=1)u[p].l(c);c.forEach(g),a=D(_),i=b(_,"DIV",{class:!0});var f=w(i);o=te(f,!1),f.forEach(g),_.forEach(g),this.h()},h(){h(l,"class","members flex svelte-1vj042l"),o.a=null,h(i,"class","info svelte-1vj042l"),h(r,"class","row flex svelte-1vj042l"),h(r,"data-prop",e[4].members.map(Ee).filter(Boolean)),h(r,"data-search",e[4].desc_html),h(r,"id",e[4].name),this.first=r},m(m,_){E(m,r,_),$(r,l),A(t,l,null),$(l,n);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(l,null);$(r,a),$(r,i),o.m(d,i),y=!0},p(m,_){e=m,(!y||_&1)&&d!==(d=e[3](e[4].desc_html,e[0])+"")&&o.p(d)},i(m){if(!y){I(t.$$.fragment,m);for(let _=0;_<k.length;_+=1)I(u[_]);y=!0}},o(m){j(t.$$.fragment,m),u=u.filter(be);for(let _=0;_<u.length;_+=1)j(u[_]);y=!1},d(m){m&&g(r),N(t),F(u,m)}}}function we(s){let e,r,l,t,n,a,i,o=[],d=new Map,y,k,u;r=new ce({props:{title:"戰陣圖鑑"}}),t=new oe({props:{filter_cates:s[1],item_class:".row",placeholder:"過濾說明",search_cb:s[2]}});let m=H(G);const _=c=>c[4].name;for(let c=0;c<m.length;c+=1){let f=L(s,m,c),p=_(f);d.set(p,o[c]=Q(p,f))}return k=new fe({props:{time:!0,refs:ie([1,1,0])}}),{c(){e=v("div"),V(r.$$.fragment),l=S(),V(t.$$.fragment),n=S(),a=v("hr"),i=S();for(let c=0;c<o.length;c+=1)o[c].c();y=S(),V(k.$$.fragment),this.h()},l(c){e=b(c,"DIV",{class:!0});var f=w(e);z(r.$$.fragment,f),l=D(f),z(t.$$.fragment,f),n=D(f),a=b(f,"HR",{class:!0}),i=D(f);for(let p=0;p<o.length;p+=1)o[p].l(f);y=D(f),z(k.$$.fragment,f),f.forEach(g),this.h()},h(){h(a,"class","svelte-1vj042l"),h(e,"class","workspace")},m(c,f){E(c,e,f),A(r,e,null),$(e,l),A(t,e,null),$(e,n),$(e,a),$(e,i);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(e,null);$(e,y),A(k,e,null),u=!0},p(c,[f]){f&9&&(m=H(G),re(),o=ne(o,f,_,1,c,m,d,e,se,Q,y,L),le())},i(c){if(!u){I(r.$$.fragment,c),I(t.$$.fragment,c);for(let f=0;f<m.length;f+=1)I(o[f]);I(k.$$.fragment,c),u=!0}},o(c){j(r.$$.fragment,c),j(t.$$.fragment,c);for(let f=0;f<o.length;f+=1)j(o[f]);j(k.$$.fragment,c),u=!1},d(c){c&&g(e),N(r),N(t);for(let f=0;f<o.length;f+=1)o[f].d();N(k)}}}const Ee=s=>!s.img&&s.name;function Ie(s,e,r){let l,t=[{prop:"prop",title:"職業",multi:!0,values:["俠客","鐵衛","祝由","御風","羽士","咒師","鬥將"]},{prop:"prop",title:"屬相",multi:!0,values:["炎","雷","冰","光","暗","幽"]}];function n(i){r(0,l=i)}function a(i=""){if(l.length){let o=new RegExp(`(${l})`,"g");return i.replace(o,"<mark>$1</mark>")}return i}return r(0,l=""),[l,t,n,a]}class qe extends q{constructor(e){super(),M(this,e,Ie,we,B,{})}}export{qe as component,Fe as universal};
